{"name":"Tapestry","tagline":"Tapestry","body":"# Tapestry: A Network Complexity Analyzer\r\n\r\n## Overview\r\n\r\nTapestry is a system that measures network complexity by caputring Domain Name System (DNS)\r\nendpoint interaction data via OpenFlow enabled network taps in\r\nfront of one or more of an organization's internal recursive DNS servers.\r\n\r\nNetwork interaction data is collected over time, distinct acitivites between are detected\r\nand a Network Complexity Index (NCI) is computed on-line and can be viewed \r\nin near real-time via a built in Web based interface.\r\n\r\n## Requirements\r\n\r\nTapestry requires:\r\n\r\n* One or more servers running the Erlang/OTP distributed computing platform to aggregate the data and calculate the NCI.\r\n* One or more internal recursive DNS servers to provide the raw data feeds\r\n* One or more Open flow enabled Switches or network white boxes with at\r\n    least 3 ports to act as network taps. (or you can install LINC on\r\n    the network white boxes)\r\n* Network cabling and access to install the taps inline in front of\r\n    the DNS servers\r\n* Network connectivity between the taps and the collector\r\n\r\n## Installation\r\n\r\nDownload and compile the Tapestry collector\r\n\r\n```bash\r\n% git clone https://github.com/FlowForwarding/tapestry\r\n% cd tapestry\r\n% make\r\n```\r\n\r\nIf required, download and compile LINC for the network switches\r\n\r\n```bash\r\n% git clone https://github.com/FlowForwarding/LINC-Switch.git\r\nYou will need to edit $LINC_ROOT/rel/files/sys.config and then\r\n% make compile\r\n% make rel\r\n```\r\n\r\n## Deployment\r\n\r\nAn example deployment diagram: ![alt text][Illustration]\r\n\r\n[Illustration]: docs/images/tapestry_deployment.jpg \"Tapestry deployment\"\r\n\r\n## Configure Tapestry Collector\r\nTapestry Collector Configuration file is located in $TAPESTRY_ROOT/tapestry.config file\r\n\r\nIn the below file, LINC Switch IP Address is 10.10.10.149 and DNS Server connected to \r\nPort 1 (as per LINC Switch's sys.config file) of the LINC Switch is 10.10.10.10.\r\nPort 2 (as per LINC Switch's sys.config file) of the LINC Switch is connected to the\r\nTop of the Rack switch to act as a receptor for DNS Queries and responses.\r\n\r\n```erlang\r\n{ofdps,[{ofdp,{ip_addr,{10,10,10,149}},\r\n              {dns_port,1},\r\n              {client_port,2},\r\n              {dns_ips,[{10,10,10,10}]}\r\n         }]}.\r\n```\r\n\r\n\r\n## Running Tapestry\r\n\r\n### First Install Flows on the Switch and make sure everything is working\r\n```erlang\r\n# erl -pa ebin\r\n> tap_loom:start().\r\n> tap_loom:config().\r\n> q().\r\n```\r\n\r\nNow test connectivity.  If the DNS Server IP address connected to Port 1 of the LINC Switch is 10.10.10.10, then\r\n```bash\r\n# dig @10.10.10.10 flowforwarding.org\r\n```\r\nNow you can start Tapestry Collector\r\n```erlang\r\n# erl -pa ebin\r\n> tapestry:start().\r\n```\r\n\r\nUsing a browser, go to URL - http://<tapestry_collector_hostname:28080/nci.html to see NCI graph and number.\r\n\r\n## Additional Documentation\r\n>1. Technical White Paper: “[A Network Complexity Index for Networks of Networks] (http://www.flowforwarding.org/nci-article)” by Stuart Bailey and Robert L. Grossman\r\n>2. NCI White Paper: [Tapestry for Tracking Network Complexity Index (NCI)] (http://www.infoblox.com/downloads/resources/network-complexity/download)\r\n","google":"UA-45275436-1","note":"Don't delete this file! It's used internally to help with page regeneration."}